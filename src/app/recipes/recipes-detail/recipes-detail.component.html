<!-- [@changeContainer]= toState -->
<div class="container">
  <!-- [@changeDetailBox]= toState -->
  <!-- detail-box -->

  <div
    *ngIf="!isLoadingRcp"
    [ngClass]="!isCollapsed ? 'detail-boxShrunk' : 'detail-box'"
  >
    <!-- detail-chng -->
    <div [ngClass]="!isCollapsed ? ' detail-chngShrunk' : 'detail-chng'">
      <div class="svg">
        <svg
          (click)="ondeleteRecipe()"
          id="svg-delete"
          enable-background="new 0 0 48 48"
          height="48px"
          version="1.1"
          viewBox="0 0 48 48"
          width="48px"
          xml:space="preserve"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
        >
          <g id="Expanded">
            <g>
              <g><path d="M41,48H7V7h34V48z M9,46h30V9H9V46z" /></g>
              <g><path d="M35,9H13V1h22V9z M15,7h18V3H15V7z" /></g>
              <g>
                <path
                  d="M16,41c-0.553,0-1-0.447-1-1V15c0-0.553,0.447-1,1-1s1,0.447,1,1v25C17,40.553,16.553,41,16,41z"
                />
              </g>
              <g>
                <path
                  d="M24,41c-0.553,0-1-0.447-1-1V15c0-0.553,0.447-1,1-1s1,0.447,1,1v25C25,40.553,24.553,41,24,41z"
                />
              </g>
              <g>
                <path
                  d="M32,41c-0.553,0-1-0.447-1-1V15c0-0.553,0.447-1,1-1s1,0.447,1,1v25C33,40.553,32.553,41,32,41z"
                />
              </g>
              <g><rect height="2" width="48" y="7" /></g>
            </g>
          </g>
        </svg>
      </div>
      <div (click)="onEditRecipe()" class="svg">
        <svg
          version="1.1"
          id="svg-edit"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 512 512"
          style="enable-background: new 0 0 512 512"
          xml:space="preserve"
        >
          <g>
            <g>
              <polygon points="51.2,353.28 0,512 158.72,460.8" />
            </g>
          </g>
          <g>
            <g>
              <rect
                x="89.73"
                y="169.097"
                transform="matrix(0.7071 -0.7071 0.7071 0.7071 -95.8575 260.3719)"
                width="353.277"
                height="153.599"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M504.32,79.36L432.64,7.68c-10.24-10.24-25.6-10.24-35.84,0l-23.04,23.04l107.52,107.52l23.04-23.04
                    C514.56,104.96,514.56,89.6,504.32,79.36z"
              />
            </g>
          </g>
        </svg>
      </div>
    </div>

    <!-- [@changeDetailContent]=toState -->
    <!-- detail-box__content -->
    <div
      [ngClass]="
        !isCollapsed ? 'detail-boxShrunk__content ' : ' detail-box__content'
      "
    >
      <!-- [@changeDetailMain]=toState -->
      <!-- detail-box__main -->
      <div
        [ngClass]="!isCollapsed ? 'detail-boxShrunk__main' : 'detail-box__main'"
      >
        <!-- [@cchangeDetailImg]= toState -->
        <!-- detail-box__main-img -->
        <div class="">
          <img
            [ngClass]="
              !isCollapsed
                ? 'detail-boxShrunk__main-img'
                : 'detail-box__main-img'
            "
            [src]="safeImg"
            alt=""
          />
        </div>

        <!-- detail-box__desc -->
        <div
          [ngClass]="
            !isCollapsed ? 'detail-boxShrunk__desc' : ' detail-box__desc'
          "
        >
          <div class="detail-box__title">{{ recipe.name }}</div>
          <div class="detail-box__caption">{{ recipe.description }}</div>
        </div>
        <!-- <button (click)="onClickShrink()" style="width: 8rem;height: 4rem;background-color: black;color: white;">end</button> -->
      </div>

      <!-- detail-box__sub -->
      <div
        *ngIf="showSub"
        [ngClass]="!isCollapsed ? 'detail-boxShrunk__desc' : 'detail-box__sub '"
      >
        <div class="detail-box__sub-content">
          <div class="detail-box__method">
            <div class="detail-box__method-ingredient">
              <div class="detail-box__method-header">
                <div>Ingredients</div>
                <div class="shopping__share" (click)="onClickShare()">
                  <svg
                    version="1.1"
                    class="shopping__share-svg"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    viewBox="0 0 486.6 486.6"
                    style="enable-background: new 0 0 486.6 486.6"
                    xml:space="preserve"
                  >
                    <g>
                      <path
                        d="M136.8,322.8h235.1c26.7,0,48.4-21.7,48.4-48.4v-98.9c0-0.1,0-0.3,0-0.4c0-0.3,0-0.4,0-0.7c0-0.2,0-0.4-0.1-0.5
                               c0-0.2-0.1-0.4-0.1-0.6s-0.1-0.4-0.1-0.5c-0.1-0.2-0.1-0.4-0.2-0.6c-0.1-0.2-0.1-0.4-0.2-0.5c-0.1-0.2-0.1-0.4-0.2-0.5
                               c-0.1-0.2-0.2-0.4-0.3-0.6c-0.1-0.2-0.2-0.4-0.3-0.4c-0.1-0.2-0.2-0.4-0.3-0.5c-0.1-0.2-0.2-0.3-0.3-0.4c-0.1-0.2-0.3-0.4-0.4-0.5
                               c-0.1-0.2-0.2-0.3-0.4-0.4c-0.1-0.2-0.3-0.3-0.4-0.4c-0.1-0.2-0.3-0.3-0.4-0.4c-0.1-0.2-0.3-0.3-0.4-0.4c-0.2-0.2-0.3-0.3-0.4-0.4
                               c-0.2-0.1-0.3-0.3-0.4-0.4c-0.2-0.1-0.4-0.3-0.5-0.4c-0.2-0.1-0.3-0.2-0.4-0.3c-0.2-0.1-0.4-0.2-0.5-0.4c-0.2-0.1-0.4-0.2-0.5-0.3
                               c-0.2-0.1-0.4-0.2-0.5-0.3c-0.2-0.1-0.4-0.2-0.5-0.3c-0.2-0.1-0.4-0.1-0.5-0.2c-0.2-0.1-0.4-0.2-0.6-0.2s-0.4-0.1-0.4-0.1
                               c-0.3-0.1-0.4-0.1-0.7-0.1c-0.1,0-0.2-0.1-0.4-0.1l-298-41.1V81c0-0.4,0-0.9-0.1-1.2c0-0.1,0-0.2-0.1-0.4c0-0.3-0.1-0.5-0.1-0.8
                               c-0.1-0.3-0.1-0.4-0.2-0.7c0-0.2-0.1-0.3-0.1-0.4c-0.1-0.3-0.2-0.5-0.3-0.8c0-0.1-0.1-0.3-0.1-0.4c-0.1-0.3-0.2-0.4-0.4-0.7
                               c-0.1-0.1-0.1-0.3-0.2-0.4c-0.1-0.2-0.2-0.4-0.4-0.5c-0.1-0.2-0.2-0.3-0.3-0.4c-0.1-0.2-0.2-0.3-0.3-0.4c-0.1-0.2-0.3-0.4-0.4-0.5
                               c-0.1-0.1-0.2-0.2-0.3-0.3c-0.2-0.2-0.4-0.4-0.5-0.5c-0.1-0.1-0.2-0.2-0.3-0.3c-0.2-0.2-0.4-0.4-0.6-0.5c-0.1-0.1-0.3-0.2-0.4-0.3
                               c-0.2-0.2-0.4-0.3-0.5-0.4c-0.3-0.2-0.5-0.4-0.7-0.4c-0.1-0.1-0.2-0.1-0.3-0.2c-0.4-0.2-0.8-0.4-1.1-0.5L40.3,42.8
                               c-6.1-2.5-13,0.3-15.5,6.3s0.3,13,6.3,15.5l57.4,24.2v53.7v8.5v65.2v58.3v73.7c0,24.6,18.4,44.9,42.2,48
                               c-4.3,7.2-6.8,15.6-6.8,24.6c0,26.4,21.5,47.8,47.8,47.8s47.8-21.5,47.8-47.8c0-8.8-2.4-17.1-6.6-24.1h106.5
                               c-4.2,7.1-6.6,15.3-6.6,24.1c0,26.4,21.5,47.8,47.8,47.8c26.3,0,47.8-21.5,47.8-47.8c0-26.3-21.5-47.8-47.8-47.8H136.8
                               c-13.7,0-24.7-11.1-24.7-24.7v-32.1C119.3,320.3,127.8,322.8,136.8,322.8z M195.7,420.7c0,13.3-10.9,24.1-24.1,24.1
                               s-24.1-10.9-24.1-24.1s10.9-24.1,24.1-24.1S195.7,407.3,195.7,420.7z M384.6,420.7c0,13.3-10.9,24.1-24.1,24.1
                               s-24.1-10.9-24.1-24.1s10.9-24.1,24.1-24.1S384.6,407.3,384.6,420.7z M371.9,299.1H136.8c-13.7,0-24.7-11.1-24.7-24.7v-58.3v-65.2
                               v-4.4l284.6,39.2v88.7C396.6,288.1,385.5,299.1,371.9,299.1z"
                      />
                    </g>
                    <path
                      d="M294.5,170.9c-0.6,0-1.2-0.1-1.8-0.2c-3.6-0.8-6.3-4-6.3-7.7v-16.1c0-57.7,46.9-104.6,104.6-104.6h2.7V7.5
                           c0-3.3,2-6.2,5-7.5c3-1.2,6.5-0.5,8.8,1.9l69.7,72.4c3,3.1,3,8,0,11.2l-69.7,72.4c-2.3,2.4-5.8,3.1-8.8,1.9c-3-1.2-5-4.2-5-7.5
                           v-34.9h-12.7c-33.7,0-64.1,18.7-79.1,48.9C300.4,169.1,297.5,170.9,294.5,170.9z M391,58.5c-45,0-82.3,33.8-87.8,77.4
                           c19.5-21.7,47.5-34.5,77.7-34.5h20.8c4.4,0,8,3.6,8,8v22.9l50.5-52.4l-50.5-52.4v23c0,4.4-3.6,8-8,8H391z"
                    />
                  </svg>
                </div>
              </div>

              <div class="detail-box__method-ingredients">
                <ul class="cont">
                  <li
                    class="ingdnt"
                    *ngFor="let ingredient of recipe.ingredients; let i = index"
                  >
                    {{ ingredient.name }}
                  </li>
                </ul>
              </div>
            </div>
            <div class="detail-box__method-procedure">
              <div class="detail-box__method-prepheader">
                <div>Instructions</div>
                <div class="expand" (click)="onExpandInst()">
                  <svg
                    version="1.1"
                    class="expand-svg"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    viewBox="0 0 512 512"
                    style="enable-background: new 0 0 512 512"
                    xml:space="preserve"
                  >
                    <g>
                      <path
                        d="M128,32V0H16C7.163,0,0,7.163,0,16v112h32V54.56L180.64,203.2l22.56-22.56L54.56,32H128z"
                      />
                      <path
                        d="M496,0H384v32h73.44L308.8,180.64l22.56,22.56L480,54.56V128h32V16C512,7.163,504.837,0,496,0z"
                      />
                      <path
                        d="M480,457.44L331.36,308.8l-22.56,22.56L457.44,480H384v32h112c8.837,0,16-7.163,16-16V384h-32V457.44z"
                      />
                      <path
                        d="M180.64,308.64L32,457.44V384H0v112c0,8.837,7.163,16,16,16h112v-32H54.56L203.2,331.36L180.64,308.64z"
                      />
                    </g>
                  </svg>
                </div>
              </div>

              <div class="detail-box__method-prep">
                {{ recipe.instruction }}
              </div>
            </div>
          </div>
        </div>

        <div
          *ngFor="let video of safeUrls; let i = index"
          class="detail-box__videos"
        >
          <div *ngIf="isLoading" class="detail-box__video-load">
            <app-loading></app-loading>
          </div>

          <iframe
            *ngIf="!isLoading"
            class="detail-box__video"
            [src]="video"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          >
          </iframe>

          <!-- <iframe class="detail-box__video" src="https://www.youtube.com/embed/fKNdoxRld34" frameborder="0" 
                  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                   allowfullscreen></iframe>
             -->

          <!-- <iframe class="detail-box__video" src="https://www.youtube.com/embed/wx-kvJlKvJI" frameborder="0"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                     allowfullscreen></iframe> -->
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="isLoadingRcp" class="detail-boxSkeleton">
    <div class="detail-boxSkeleton__edits">
      <!-- <div class="detail-boxSkeleton__edit1"></div>
      <div class="detail-boxSkeleton__edit1"></div> -->
    </div>
    <div class="detail-boxSkeleton__box">
      <div class="detail-boxSkeleton__main">
        <div class="detail-boxSkeleton__img"></div>
        <div class="detail-boxSkeleton__desc">
          <div class="detail-boxSkeleton__title"></div>
          <div class="detail-boxSkeleton__caption"></div>
          <div class="detail-boxSkeleton__caption"></div>
        </div>
      </div>
    </div>
  </div>
</div>
